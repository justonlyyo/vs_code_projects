# NewISpider系统登录方式

## 员工登录

现阶段已知的登录方式:

* 用户名密码 
* 手机验证码
* 微信扫码
* 人脸识别
* 工号卡刷卡

### 用户名密码登录

* 用户打开登录页面, 输入酒店id, 用户名和密码, 选择班次.然后提交. 本步骤提交的参数包括:

|参数名|数据类型|含义|说明|
|:--:|:--:|:--:|:--:|
|account|string|账户名|登录账户名|
|password|string|账户密码|不可明文传输|
|hotel_id|int|酒店id|酒店的唯一id|
|schedule_id|int|排班的id|早班,中班,晚班|

### 手机验证码登录

业务逻辑如下:

* 输入手机号码.点击发送验证码按钮.
* 前端先验证手机号码是否合法.合法就发送一个请求登录验证码的request到后端的短信接口. 发送request包含的参数:

|参数名|数据类型|含义|说明|
|:--:|:--:|:--:|:--:|
|phone|string|手机号码|登录用户的手机号码,全局唯一|
|hotel_id|int|酒店id|酒店的唯一id|
|schedule_id|int|排班的id|早班,中班,晚班|

* 后端接受到此request后,检查手机号码是否归属本酒店员工. 是则发送一个登录验证码.
* 用户在收到短信验证码后,在页面填入短信验证码.点击登录按钮进行登录.登录成功后,短信验证码即失效. 用户登录的时候提交的参数包括:

|参数名|数据类型|含义|说明|
|:--:|:--:|:--:|:--:|
|phone|string|手机号码|登录用户的手机号码,全局唯一|
|hotel_id|int|酒店id|酒店的唯一id|
|sms_code|string|短信验证码|可设置有效期|
|schedule_id|int|排班的id|早班,中班,晚班|

* 短信验证码15-30分钟的超时失效.
* 注意短信验证码有一定概率发送失败

### 微信扫码登录

### 人脸识别登录

### 工号卡刷卡登录