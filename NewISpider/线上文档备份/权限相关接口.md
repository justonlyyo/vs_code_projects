# 权限接口

-----

* **host**: 47.98.113.173
* **port**: 9519

## 对象说明

本文档涉及的对象包括:

* **Rule**: 权限
* **RuleGroup**: 权限组
* **Role**: 角色
* **RoleGroup**: 角色组

### 数据模型

```python
class Rule(db.Entity, EntityExtends):
    """
    (业务接口的)权限, 这是权限规则规则的原始记录
    权限规则和api视图路由是1:1的关系,
    权限规则和app的关系是n:n
    """
    _table_ = "rule"
    url = Required(str, max_len=191, unique=True)  # 接口的url地址,不包含host,port和参数的全路径接口path,唯一
    name = Required(str, max_len=128, unique=True)  # 接口/规则的名字.唯一
    desc = Optional(str, max_len=1000, nullable=True)  # '描述.本接口是干什么的?
    desc_en = Optional(str, max_len=1000, nullable=True)  # 英文描述.本接口是干什么的?
    level = Required(int, default=1)  # 权限的级别,0是系统管理员才能设定的权限,1是集团管理员可设定的, 2 是酒店管理员可设定的")
    status = Required(int, default=1)  # 是否可用,默认是1可用.0禁用

    pages = Set(Page, reverse="rules")  # Page和权限关联,一个页面可以包含多个权限
    roles = Set("Role", reverse="rules")  # 角色和权限.角色中的权限可以由权限组中的权限和独立的权限构成
    rule_groups = Set("RuleGroup", nullable=True, reverse="rules")  # 权限组id

class RuleGroup(db.Entity, EntityExtends):
    """
    权限组, 权限的集合.辅助类.用于吧权限分组.便于快速选择一组相关连的权限.
    """
    _table_ = "rule_group"
    name = Required(str, max_len=40)  # 权限组名称, 和hotel_id构成复合键
    code = Required(str, max_len=40)  # 权限组代码, 和hotel_id构成复合键
    desc = Optional(str, max_len=1000, nullable=True)  # 中文备注
    desc_en = Optional(str, max_len=1000, nullable=True)  # 英文备注
    status = Required(int, default=1)  # 是否可用,默认是1可用.0禁用

    creator = Required("Employee", reverse="inserted_rule_groups")  # 创建人.指向管理员id
    last_user = Required("Employee", reverse="updated_rule_groups")  # 最后修改人.指向系统管理员id
    create_time = Required(datetime.datetime, default=datetime.datetime.now)  # 创建时间
    last_time = Required(datetime.datetime, default=datetime.datetime.now)  # 最后一次修改时间

    rules = Set(Rule, reverse="rule_groups")  # 权限组下的权限.
    roles = Set("Role", reverse="rule_groups")  # 使用本规则组设定过的角色
    hotel_id = Optional(Hotel, reverse="rule_groups", nullable=True)  # 角色归属的酒店

    composite_key(code, hotel_id)  # code,酒店id复合键
    composite_key(name, hotel_id)  # name,酒店id复合键


class Role(db.Entity, EntityExtends):
    """
    角色
    不同酒店下可以有同名的角色.
    一个酒店下角色名和code不能重复
    """
    _table_ = "role"
    name = Required(str, max_len=40)  # 角色名
    code = Required(str, max_len=40)  # 快速代码
    status = Required(int, size=8, default=1)  # 状态1可用,0不可用.
    desc = Optional(str, max_len=1000, nullable=True)  # 中文备注
    desc_en = Optional(str, max_len=1000, nullable=True)  # 英文备注
    super_root = Required(int, size=8, sql_default=0)  # 是否超级管理员?超级管理员不可被编辑.

    create_time = Optional(datetime.datetime, nullable=True, default=datetime.datetime.now)  # 创建时间
    last_time = Optional(datetime.datetime, nullable=True, default=datetime.datetime.now)  # 最后一次的修改时间
    creator = Optional("Employee", nullable=True, reverse="inserted_roles")  # 创建人
    last_user = Optional("Employee", nullable=True, reverse="updated_roles")  # 最后修改人.

    hotel_id = Optional(Hotel, nullable=True, reverse="roles")  # 酒店id
    role_group = Optional(RoleGroup, nullable=True, reverse="roles")
    employees = Set("Employee", nullable=True, reverse="roles")  # 角色对应的用户
    rule_groups = Set(RuleGroup, nullable=True, reverse="roles")  # 权限列表
    rules = Set(Rule, reverse="roles")  # 角色和选择的权限的映射

    composite_key(code, hotel_id)  # code,酒店id复合键
    composite_key(name, hotel_id)  # name,酒店id复合键


class RoleGroup(db.Entity, EntityExtends):
    """
    角色组
    """
    _table_ = "role_group"
    name = Required(str, max_len=40)  # 角色组名
    code = Required(str, max_len=40)  # 角色组代码, 和hotel_id构成联合唯一索引
    desc = Optional(str, max_len=1000, nullable=True)  # 中文备注
    desc_en = Optional(str, max_len=1000, nullable=True)  # 英文备注
    status = Required(int, default=1)  # 是否可用,默认是1可用.0禁用

    create_time = Required(datetime.datetime, default=datetime.datetime.now)  # 创建时间
    last_time = Optional(datetime.datetime, default=datetime.datetime.now, nullable=True)  # 最后一次的修改时间
    creator = Optional("Employee", reverse="inserted_role_groups")  # 创建人
    last_user = Optional("Employee", reverse="updated_role_groups")  # 最后修改人.

    roles = Set("Role", reverse="role_group")  # 角色组下面的角色
    hotel_id = Required(Hotel, reverse="role_groups", nullable=True)  # 角色归属的酒店

    composite_key(code, hotel_id)  # code,酒店id复合键
    composite_key(name, hotel_id)  # name,酒店id复合键

```

## 接口约定

### 添加权限

权限对象有2种添加方式:

1. 使用api接口或者rpc自动注册权限
2. 使用后台操作

* **url**: /v1/common/rule/add
* **headers**: authorization 验证
* **method**: post
* **request args**:  

参数名|中文名|是否必须|参数类型|说明
:--:|:--:|:--:|:--:|:--:
name|模块名|Yes|字符串|模块的名称
url|模块链接|Yes|字符串|模块的链接

desc|备注/说明|No|字符串| 对模块的备注和说明内容
desc_en|英文备注|No|字符串|英文备注内容
parent_id|父模块id|No|整数|可为null,为null表示为顶层模块

* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization}
* **respnse example**:

```javascript
{"message": "success"}
```

### 修改模块信息

* **url**: /v1/common/module/update/id
* **headers**: authorization 验证
* **method**: post
* **request args**:  

> url中的最后一段id表示要修改的对象的id

参数名|中文名|是否必须|参数类型|说明
:--:|:--:|:--:|:--:|:--:
name|模块名|Yes|字符串|模块的名称
code|模块代码|Yes|字符串|模块的code, 唯一
version|版本|No|字符串|版本号,默认 v1.0
url|模块链接|Yes|字符串|模块的链接
has_entry| 是否入口模块|Yes|字符串|是否有独立的登录入口?1有,0没有
desc|备注/说明|No|字符串| 对模块的备注和说明内容
desc_en|英文备注|No|字符串|英文备注内容
parent_id|父模块id|No|整数|可为null,为null表示为顶层模块

* **reqsponse type**: json
* **response**: {"message": "success", "new_authorization": 新authorization}
* **respnse example**:

```javascript
{"message": "success"}
```

### 删除模块信息

* **url**: /v1/common/module/remove/id
* **headers**: authorization 验证
* **method**: post
* **request args**:  

> url中的最后一段id表示要删除的对象的id

* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization}
* **respnse example**:

```javascript
{"message": "success"}
```

### 获取父节点和根节点

* **url**: /v1/common/module/parents
* **headers**: authorization 验证
* **method**: get
* **request args**:  

参数名|中文名|是否必须|参数类型|说明
:--:|:--:|:--:|:--:|:--:
item_id|当前节点id|Yes|整数|当前节点的id

* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization,"data": {"parents": 可选父节点的数组, "root": 当前根节点, "code": 全部code的数组}}
* **respnse example**:

```javascript
{
    "message": "success",
    "data": {
        "parents": [ // 可用的父节点
            {
                "id": 6,
                "name": "字段设置"
            },
            {
                "id": 7,
                "name": "状态设置"
            }
        ],
        "codes": [   // 由于code不能重复,此codes数组用于去重.
            "pms",
            "nkdk",
            "df",
            "dd4",
            "dfd3",
            "dfbgh",
            "dwl",
            "doi",
            "dkr",
            "dk",
            "534",
            "热舞",
            "他他",
            "天天",
            "他尔"
        ],
        "urls": [  // url不能重复.此urls数组用于去重.
            "/pms/",
            "/nikd/",
            "/pms/fangtai",
            "/pms/fggf",
            "/nikd/base",
            "/nikd/base/field",
            "/nikd/base/status",
            "/tie",
            "/qian",
            "/qian/xianjin",
            "543",
            "热舞",
            "退热贴",
            "太热",
            "他认为",
            "werewolf",
            "委任为",
            "3454"
        ],
        "root": {  // 根节点
            "id": 2,
            "name": "内控店控"
        }
    },
    "new_authorization": "1be161c99c2b427888de3ac9edb0c8f4"
}
```

### 获取根模块(模块种类)

* **url**: /v1/common/module/root_list
* **headers**: authorization 验证
* **method**: get
* **request args**:  无
* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization,"data": 根模块的数组}
* **respnse example**:

```javascript
{
    "message": "success",
    "data": [             // 根模块(模块类别)就是parent_id为null的模块
        {
            "id": 1,
            "name": "PMS",
            "code": "pms",
            "version": "1.0",
            "url": "/pms/",
            "has_entry": 1,
            "name_en": "",
            "desc": "",
            "desc_en": "",
            "creator": 1,
            "last_user": 1,
            "create_time": null,
            "last_time": null,
            "parent_id": null
        },
        {
            "id": 2,
            "name": "内控店控",
            "code": "nkdk",
            "version": "1.0",
            "url": "/nikd/",
            "has_entry": 1,
            "name_en": "",
            "desc": null,
            "desc_en": null,
            "creator": 1,
            "last_user": 1,
            "create_time": null,
            "last_time": null,
            "parent_id": null
        },
        {
            "id": 9,
            "name": "钱管家",
            "code": "dkr",
            "version": "1.0",
            "url": "/qian",
            "has_entry": 1,
            "name_en": "",
            "desc": "",
            "desc_en": "",
            "creator": 1,
            "last_user": 1,
            "create_time": null,
            "last_time": null,
            "parent_id": null
        },
        {
            "id": 47,
            "name": "REWR",
            "code": "ER",
            "version": "1.0",
            "url": "委任为",
            "has_entry": 47,
            "name_en": "",
            "desc": null,
            "desc_en": "R",
            "creator": 1,
            "last_user": 1,
            "create_time": "2019-02-25 10:25:48",
            "last_time": "2019-02-25 10:25:48",
            "parent_id": null
        },
        {
            "id": 97,
            "name": "委任为",
            "code": "微软",
            "version": "1.0",
            "url": "微软二位",
            "has_entry": 47,
            "name_en": "",
            "desc": null,
            "desc_en": "热舞",
            "creator": 1,
            "last_user": 1,
            "create_time": "2019-02-26 04:32:59",
            "last_time": "2019-02-26 04:32:59",
            "parent_id": null
        },
        {
            "id": 98,
            "name": "微软",
            "code": "委任为",
            "version": "1.0",
            "url": "微软认为让微软",
            "has_entry": 1,
            "name_en": "",
            "desc": null,
            "desc_en": "让微软",
            "creator": 1,
            "last_user": 1,
            "create_time": "2019-02-26 04:33:26",
            "last_time": "2019-02-26 04:33:26",
            "parent_id": null
        },
        {
            "id": 99,
            "name": "违法",
            "code": "而无法",
            "version": "1.0",
            "url": "微软发士大夫",
            "has_entry": 47,
            "name_en": "",
            "desc": null,
            "desc_en": "微软",
            "creator": 1,
            "last_user": 1,
            "create_time": "2019-02-26 04:34:35",
            "last_time": "2019-02-26 04:34:35",
            "parent_id": null
        }
    ],
    "new_authorization": "d22f508d2ebf419faec701573b49d82d"
}
```

### 获取树状结构

* **url**: /v1/common/module/get_tree
* **headers**: authorization 验证
* **method**: get
* **request args**:  无
* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization,"data": 模块的树形结构数组}
* **respnse example**:

```javascript
{
    "message": "success",
    "data": [
        {
            "name": "但是每次发了",
            "parent_id": null,
            "id": 133
        },
        {
            "name": "REWR",
            "parent_id": null,
            "children": [
                {
                    "name": "二哥",
                    "parent_id": 47,
                    "id": 123
                },
                {
                    "name": "的辅导班",
                    "parent_id": 47,
                    "id": 105
                },
                {
                    "name": "辅导班的",
                    "parent_id": 47,
                    "id": 104
                },
                {
                    "name": "发v的",
                    "parent_id": 47,
                    "id": 100
                },
                {
                    "name": "微软而为人",
                    "parent_id": 47,
                    "id": 96
                },
                {
                    "name": "让微软",
                    "parent_id": 47,
                    "children": [
                        {
                            "name": "大夫士大夫555",
                            "parent_id": 63,
                            "id": 132
                        }
                    ],
                    "id": 63
                }
            ],
            "id": 47
        },
        {
            "name": "合适的方式的恢复健康",
            "parent_id": null,
            "id": 130
        },
        {
            "name": "的CRC v俄方",
            "parent_id": null,
            "id": 129
        },
        {
            "name": "改好价格",
            "parent_id": null,
            "id": 128
        },
        {
            "name": "让微软二位",
            "parent_id": null,
            "id": 127
        },
        {
            "name": "房贷首付为vv",
            "parent_id": null,
            "id": 120
        },
        {
            "name": "威风威风维持v但是v",
            "parent_id": null,
            "id": 119
        },
        {
            "name": "地方v地方",
            "parent_id": null,
            "id": 117
        },
        {
            "name": "的VS地方v",
            "parent_id": null,
            "id": 115
        },
        {
            "name": "违法",
            "parent_id": null,
            "id": 99
        },
        {
            "name": "微软",
            "parent_id": null,
            "id": 98
        },
        {
            "name": "委任为",
            "parent_id": null,
            "id": 97
        },
        {
            "name": "PMS",
            "parent_id": null,
            "children": [
                {
                    "name": "房态",
                    "parent_id": 1,
                    "id": 3
                },
                {
                    "name": "房情",
                    "parent_id": 1,
                    "id": 4
                }
            ],
            "id": 1
        },
        {
            "name": "内控店控",
            "parent_id": null,
            "children": [
                {
                    "name": "基础设置",
                    "parent_id": 2,
                    "children": [
                        {
                            "name": "字段设置",
                            "parent_id": 5,
                            "id": 6
                        },
                        {
                            "name": "状态设置",
                            "parent_id": 5,
                            "id": 7
                        },
                        {
                            "name": "铁管家",
                            "parent_id": 5,
                            "id": 8
                        }
                    ],
                    "id": 5
                }
            ],
            "id": 2
        },
        {
            "name": "钱管家",
            "parent_id": null,
            "children": [
                {
                    "name": "现金流水",
                    "parent_id": 9,
                    "id": 10
                }
            ],
            "id": 9
        }
    ],
    "new_authorization": "b5f4c8defea048cfbcdaae0adf186a90"
}
```

### 批量获取模块信息

* **url**: /v1/common/module/info_list
* **headers**: authorization 验证
* **method**: get/post
* **request args**:  

参数名|中文名|是否必须|参数类型|说明
:--:|:--:|:--:|:--:|:--:
keyword|关键词|No|字符串|搜索的关键词,一次只能查询一个关键词
has_entry|是否有入口?|No|整数| 1/0,表示有独立入口/无独立入口
root_id|模块种类|No|整数|此参数应理解为哪个根模块下的模块?
page_num|页码|No|整数|此参数默认为1
page_size|每页多少条记录|No|整数|此参数默认为10

> 如果需要返回所有的模块信息,不加任何参数即可.

* **reqsponse type**": json
* **response": {"message": "success", "new_authorization": 新authorization,"data": {"list": 模块列表信息, "total_count": 统计数目""}}
* **respnse example**:

```javascript
{
    "message": "success",
    "data": {
        "total_count": 18,
        "list": [
            {
                "id": 133,
                "name": "但是每次发了",
                "code": "阿斯顿擦拭调查",
                "version": "1.0",
                "url": "从VS打开了",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "err嗯嗯",
                "creator": {                 // 创建者
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {           // 最后修改者
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 07:26:28",
                "last_time": "2019-02-26 07:26:28",
                "parent_id": null,        // 父模块
                "root": {                 // 根模块,仅为了显示,不保存此字段
                    "id": 133,
                    "name": "但是每次发了"
                }
            },
            {
                "id": 132,
                "name": "大夫士大夫555",
                "code": "是否",
                "version": "1.0",
                "url": "发生的",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "所发生的",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 07:25:05",
                "last_time": "2019-02-26 07:25:05",
                "parent_id": {
                    "id": 63,
                    "name": "让微软",
                    "code": "我让微软",
                    "version": "1.0",
                    "url": "微软",
                    "has_entry": 1,
                    "name_en": "",
                    "desc": null,
                    "desc_en": "微软",
                    "creator": 1,
                    "last_user": 1,
                    "create_time": "2019-02-25 13:47:47",
                    "last_time": "2019-02-25 13:47:47",
                    "parent_id": 47
                },
                "root": {
                    "id": 47,
                    "name": "REWR"
                }
            },
            {
                "id": 129,
                "name": "的CRC v俄方",
                "code": "订单的程度",
                "version": "1.0",
                "url": "调查得出的的",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": null,
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 07:17:55",
                "last_time": "2019-02-26 07:17:55",
                "parent_id": null,
                "root": {
                    "id": 129,
                    "name": "的CRC v俄方"
                }
            },
            {
                "id": 128,
                "name": "改好价格",
                "code": "ffas",
                "version": "1.0",
                "url": "/工业化据韩国国内",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": null,
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 07:15:37",
                "last_time": "2019-02-26 07:15:37",
                "parent_id": null,
                "root": {
                    "id": 128,
                    "name": "改好价格"
                }
            },
            {
                "id": 127,
                "name": "让微软二位",
                "code": "认为委任为",
                "version": "1.0",
                "url": "委任为",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "温热微软",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 07:14:08",
                "last_time": "2019-02-26 07:14:08",
                "parent_id": null,
                "root": {
                    "id": 127,
                    "name": "让微软二位"
                }
            },
            {
                "id": 123,
                "name": "二哥",
                "code": "了个吕布",
                "version": "1.0",
                "url": "二位过热",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "个人个人",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 06:10:39",
                "last_time": "2019-02-26 06:10:39",
                "parent_id": {
                    "id": 47,
                    "name": "REWR",
                    "code": "ER",
                    "version": "1.0",
                    "url": "委任为",
                    "has_entry": 47,
                    "name_en": "",
                    "desc": null,
                    "desc_en": "R",
                    "creator": 1,
                    "last_user": 1,
                    "create_time": "2019-02-25 10:25:48",
                    "last_time": "2019-02-25 10:25:48",
                    "parent_id": null
                },
                "root": {
                    "id": 47,
                    "name": "REWR"
                }
            },
            {
                "id": 120,
                "name": "房贷首付为vv",
                "code": "法大师傅士大夫违法",
                "version": "1.0",
                "url": "发士大夫",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "房贷首付",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 06:08:44",
                "last_time": "2019-02-26 06:08:44",
                "parent_id": null,
                "root": {
                    "id": 120,
                    "name": "房贷首付为vv"
                }
            },
            {
                "id": 119,
                "name": "威风威风维持v但是v",
                "code": "房贷首付",
                "version": "1.0",
                "url": "大师傅士大夫闻风丧胆v",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "发射点发射点v",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 06:08:25",
                "last_time": "2019-02-26 06:08:25",
                "parent_id": null,
                "root": {
                    "id": 119,
                    "name": "威风威风维持v但是v"
                }
            },
            {
                "id": 105,
                "name": "的辅导班",
                "code": "大方便",
                "version": "1.0",
                "url": "订房方法",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "辅导班订房",
                "creator": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 04:36:06",
                "last_time": "2019-02-26 04:36:06",
                "parent_id": {
                    "id": 47,
                    "name": "REWR",
                    "code": "ER",
                    "version": "1.0",
                    "url": "委任为",
                    "has_entry": 47,
                    "name_en": "",
                    "desc": null,
                    "desc_en": "R",
                    "creator": 1,
                    "last_user": 1,
                    "create_time": "2019-02-25 10:25:48",
                    "last_time": "2019-02-25 10:25:48",
                    "parent_id": null
                },
                "root": {
                    "id": 47,
                    "name": "REWR"
                }
            },
            {
                "id": 104,
                "name": "辅导班的",
                "code": "负担",
                "version": "1.0",
                "url": "订房",
                "has_entry": 1,
                "name_en": "",
                "desc": null,
                "desc_en": "复旦",
                "creator": {  
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "last_user": {  
                    "id": 1,
                    "user_name": "super_root",
                    "face_id": null,
                    "user_card_id": null,
                    "work_id": null,
                    "work_start": null,
                    "entry_date": null,
                    "work_status": 1,
                    "dept_id": null,
                    "job_id": null,
                    "head_image": null,
                    "real_name": "张三",
                    "real_name_en": null,
                    "nick_name": null,
                    "gender": "男",
                    "birth_date": null,
                    "blood_type": null,
                    "degree": null,
                    "phone": "15618317376",
                    "homeland": "",
                    "birth_place": null,
                    "domicile_place": "",
                    "live_place": "",
                    "address": "",
                    "political_status": "其他",
                    "email": null,
                    "wx_code": null,
                    "open_id": null,
                    "union_id": null,
                    "qq": null,
                    "weibo": null,
                    "create_time": "2019-02-22 14:22:42",
                    "last_time": "2019-02-22 14:22:42",
                    "creator": null,
                    "last_user": null,
                    "hotel_group_id": null,
                    "hotel_id": null
                },
                "create_time": "2019-02-26 04:35:43",
                "last_time": "2019-02-26 04:35:43",
                "parent_id": {
                    "id": 47,
                    "name": "REWR",
                    "code": "ER",
                    "version": "1.0",
                    "url": "委任为",
                    "has_entry": 47,
                    "name_en": "",
                    "desc": null,
                    "desc_en": "R",
                    "creator": 1,
                    "last_user": 1,
                    "create_time": "2019-02-25 10:25:48",
                    "last_time": "2019-02-25 10:25:48",
                    "parent_id": null
                },
                "root": {
                    "id": 47,
                    "name": "REWR"
                }
            }
        ]
    },
    "new_authorization": "0d96e6733dd4424d90e8b0943c85e0b7"
}
```