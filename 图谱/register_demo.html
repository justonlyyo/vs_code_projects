<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册示范</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--第一步:引入注册脚本-->
    <script src="http://39.108.67.178:5000/static/js/register.js"></script>
    <!-- <script src="register.js"></script> -->
</head>
<style>
    .top-title{
        background-color:lightgray;
        margin-top:0rem; 
    }
    .sms_btn:hover{
        cursor: pointer;
    }
    .blue{
        /*自定义的倒计时类*/
        color: lightblue;
        background-color: rgb(255, 143, 68) !important;
    }
</style>
<body>
    <div class="container-fluid">
        <div  class='row top-title'>
            <divclass="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <h2 style='text-align:center'>注册示范</h2>
            </div>
        </div>
        <div class='row'>
            <div class="col-lg-4 col-lg-offset-4 col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
                <div class='row'>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h4 style='text-align:center'>简单注册框</h4>
                    </div>
                </div>
                <div class="row reg_div">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-horizontal">
                        <div class='form-group'>
                            <label form='user_name_01' class="col-sm-2 col-xs-2 contorl-label">姓名</label>
                            <div class='col-sm-10 col-xs-10'>
                                <input type='text' class='form-control user_name' id='user_name_01' placeholder='请输入姓名'>
                            </div>
                        </div>

                        <div class='form-group'>
                            <label form='user_phone_01' class="col-sm-2 col-xs-2 contorl-label">手机</label>
                            <div class='col-sm-10 col-xs-10'>
                                <input type='text' class='form-control user_phone' id='user_phone_01' placeholder='请输入手机'>
                            </div>
                        </div>
                        <div class='form-group'>
                            <label form='sms_code_01' class="col-sm-2 col-xs-2 contorl-label">验证码</label>
                            <div class='col-sm-5 col-xs-5'>
                                <input type='text' class='form-control sms_code' id='sms_code_01' placeholder='请输入验证码'>
                            </div>
                            <div class='col-sm-5 col-xs-5'>
                                <input type='button' class='form-control sms_btn show_count' id='sms_btn_01' value='获取验证码'>
                            </div>
                        </div>
                        <div class='form-group'>
                            <div class='col-sm-offset-4 col-sm-4'>
                                <input type='hidden' class='customer_description_item' value='白银投资页面,第一个注册框'>
                                <button  class='btn btn-default submit_btn'>提交</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='row'>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <h4 style='text-align:center'>自定义回调函数的注册框</h4>
                        </div>
                    </div>
                    <div class="row reg_div">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-horizontal">
                            <div class='form-group'>
                                <label form='user_name_02' class="col-sm-2 col-xs-2 contorl-label">姓名</label>
                                <div class='col-sm-10 col-xs-10'>
                                    <input type='text' class='form-control user_name' id='user_name_02' placeholder='请输入姓名'>
                                </div>
                            </div>
    
                            <div class='form-group'>
                                <label form='user_phone_02' class="col-sm-2 col-xs-2 contorl-label">手机</label>
                                <div class='col-sm-10 col-xs-10'>
                                    <input type='text' class='form-control user_phone' id='user_phone_02' placeholder='请输入手机'>
                                </div>
                            </div>
                            <div class='form-group'>
                                <label form='sms_code_02' class="col-sm-2 col-xs-2 contorl-label">验证码</label>
                                <div class='col-sm-5 col-xs-5'>
                                    <input type='text' class='form-control sms_code' id='sms_code_02' placeholder='请输入验证码'>
                                </div>
                                <div class='col-sm-5 col-xs-5'>
                                    <input type='button' class='form-control sms_btn show_count' id='sms_btn_02' value='获取验证码2'>
                                </div>
                            </div>
                            <div class='form-group'>
                                <div class='col-sm-offset-4 col-sm-4'>
                                    <!--第四步: 给提交按钮加上data-callback属性-->
                                    <button  class='btn btn-default submit_btn' data-callback='my_callback'>提交</button>
                                    <input type='hidden' class='customer_description_item' value='白银投资页面,第二个注册框'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='row'>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h5 style="margin-left:2rem">类命名规则</h4>
                    </div>
                </div>
                <div class="row reg_div">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-horizontal">
                        <ol>
                            <li>
                                <h6>注册框的层级示意图</h6>
                                <pre>                                     
&ltdiv class='reg_div' &gt
    &ltinput type='text' class='user_name' placeholder='请输入姓名' &gt
    &ltinput type='text' class='user_phone' placeholder='请输入手机号码' &gt
    &ltinput type='text' class='sms_code' placeholder='请输入验证码' &gt
    &ltinput type='button' class='sms_btn show_count' value='发送验证码' &gt
    &ltinput type='hidden' class='customer_description' value='白银推广页面,第一个弹出注册框' &gt
    &ltinput type='button' data-callback='my_callback_func_name' class='submit_btn' value='马上注册' &gt
&lt/div &gt
                                 </pre>
                            </li>
                            <li>注册框                  添加      reg_div          类</li>
                            <li>用户名        的input元素添加      user_name        类</li>
                            <li>用户手机号码   的input元素添加      user_phone       类</li>
                            <li>验证码输入框   的input元素添加      sms_code         类</li>
                            <li>短信发送按钮   的input元素添加      sms_btn          类 <br>
                            元素类型为button,有一个可选的属性:data-callback用于指明短信发送完成时执行的回调函数.
                            这个属性可以灵活的自定义短信发送完成时的动作.
                            </li>
                            <li>倒计时显示     的元素添加          show_count        类     <br>
                                注意,本例的倒计时显示和短信发送按钮共用了一个元素,你也可指定不同的元素.</li>
                            <li>备注信息      的input元素添加 customer_description  类      元素类型为hidden</li>
                            <li>提交按钮      的按钮元素添加        submit_btn       类      <br>
                                有一个可选的属性:data-callback用于指明注册完成时执行的回调函数.这个属性可以灵活的自定义注册完成时的动作.
                            </li>
                            <li>
                                脚本地址和详细示范请查看本页源代码.
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <! --一个自定义注册回调事件的例子,html代码开始-->
    <!-- Button trigger modal -->
    <button id="my_modal_lauch_btn" style="display: none" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
        Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    <h5 style="font-weight:600">创建自定义注册回调函数的方法</h5>
                    <ol>
                        <li>
                            引入注册脚本.
                        </li>
                        <li>
                            编写一个回调函数.
                        </li>
                        <li>
                            向全局注册此回调函数.
                        </li>
                        <li>
                            给提交按钮加上data-callback属性.
                        </li>
                        <li>
                            初始化全部注册框.
                        </li>
                    </ol>
                    <i style="font-size:0.9rems">详细请参看本页源代码中的第一步至第五步共计五个步骤的示范.</i>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <!--<button type="button" class="btn btn-primary">Save changes</button>-->
                </div>
            </div>
        </div>
    </div>
    <! --一个自定义注册回调事件的例子,html代码结束-->

</body>
<script>
$(function(){    //  注意,必须使用这用jQuery的onready方式(所有的脚本内容被$(function(){....脚本内容...})包裹住.)来编写代码,以保证html完全载入后再运行脚本.
    // 第二步: 编写回调函数
    /*一个自定义注册回调事件*/
    var my_callback = function(mes){
        var my_title = "";
        var color = "black";
        if(mes === "注册成功"){
            my_title = mes;  // 仅用来演示,此代码并没有意义.
            color = "#286090";
        }
        else{
            my_title = mes;  // 仅用来演示,此代码并没有意义.
            color = "red";
        }
        $("#myModalLabel").text(my_title).css("color", color);  // 调整摩态框的标题文字
        $("#my_modal_lauch_btn").click();                       // 弹出摩态框
    };

    // 第三步: 向全局注册回调函数
    add_func("my_callback", my_callback);  
    /*
    add_func参数解释:
    第一个参数是你向全局注册的函数的名称.当你要调用此回调函数时,请在对应的提交按钮加上对应的data-callback属性.
    第二个参数是具体执行的回调函数,注意这个回调函数有一个参数,字符串格式.表明注册函数运行的结果.
    当注册函数注册成功时返回字符串"注册成功",否则返回注册失败的原因.
    */

    //第五步: 初始化全部注册框. (如果不需要自定义回调函数,第二,第三和第四步都可以省略!)
    /*
    init_reg的两个参数
    第一个参数: int类型, 是倒计时的秒数,在此时间内,所有的短信发送按钮将无法点击. 默认是60秒
    第二个参数: 字符串, 自定义的倒计时的类的类名. 默认没有任何样式. 你可利用选择器的路径给这些类的对象赋予不同的样式,比如:
    <style>
        .div_01>.blue{
            color:red;
        }
        .div_02>.blue{
            color:blue;
        }
    </style>    
    */
    init_reg(60, 'blue');  // blue是自定义的倒计时时的类名,注意这个参数前面没有点.
});    
</script>
</html>
