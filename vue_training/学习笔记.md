# VUE简明教程

声明： 相关资料来自于[ vue官网 ](https://cn.vuejs.org)
[ vue官网 ](#test)

>* *这是一个入门小白版的vue教程，基于浏览器而非node.js环境。*
>* *本教程不保证完全正确，谬误难免，欢迎拍砖。*
>* *本教程更新完全看心情。*

## 数据绑定

### 一个数据绑定的例子

```html
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--引入vue文件即可，请自行搜索下载-->
    <script src="../js/vue_dev.js"></script>
    <title>Document</title>
</head>
<body>
    <div id="example1">
        {{ mes }}
    </div>
</body>
<script>
    let example1 = new Vue({
        "el": "#example1",
        "data": {
            "mes": "hello"
        }
    });
</script>
</html>
```

> 接下来的例子将省略html引入文件和声明的部分，只显示数据绑定有关的dom和js代码。

## 语法

语法部分需要掌握的技巧主要包含以下几个方面：

1. 插值
2. 指令

### 插值

在html中插入数据

#### 插入文本

```html
<!--html代码-->
<div id="div_01">{{ mes }}</div>
```

```javascript
/*javascript代码*/
let my_data = {mes: "hello world"};
let app = new Vue({
    el: "#div_01",
    data: my_data
    });
```

效果： div中会显示“hello world”字段。

要点：

> 1. Vue的构建参数实际上是一个字典格式的对象。
> 2. 构建参数el是element的简写， value实际上是一个css的选择器。你可以认为和jQuery的选择器是相同的格式。
> 3. 构建参数的data实际上是绑定的对象的数据的容器。
> 4. 双大括号内的字段等同于就是构建参数data绑定的字典的key，实际上： {{ mes }} == my_data['mes']

#### 插入html内容

实际上，双大括号不能插入html，这在一定程度上避免了无意招致的xss攻击的可能性。插入html需要用到指令中的 v-html  。这里仅仅示范一个例子，有关指令的具体内容，将在 **指令** 章节中具体说明。

```html
<!--html代码-->
<div id="div_01">
   <div>{{ mes }}</div>
</div>
<div id='html_item' v-bind="raw_html"></div>
```

```javascript
/*javascript代码*/
let my_data = {
    mes: "hello world",
    raw_html: "<span style='color:red'>hello world</div>"
    };
let app = new Vue({
    el: "#div_01",
    data: my_data
    });
```

效果： my_data.['raw_html']的值会替换#html_item的innerHtml

#### 在双大括号内使用javascript表达式

在双打括号内，你可以使用所有的javascript表达式。以下的方法都是合法的。

```html
<div id="demo_01">
    <div>{{ num + 1 }}</div>
    <div>{{ bool? "yes": "no" }}</div>
    <div>{{ list[0] }}</div>
</div>
```

```javascript
let my_data = {
        "num": 12,
        "bool": true,
        "list": [1, 2, 3]
    };
let app = new Vue({
        el: "#demo_01",
        data: my_data
    });
```

效果： 双大括号中执行的就是javascript表达式。

>**注意: 双大括号中只能包含单个javascript表达式，不可以重新赋值再求值,也不能使用多行的判断表达式（但可以使用三元表达式）。这个限制很像python中的lambda表达式。以下的例子是不会生效的**

```javascript
/*错误的javascript表达式用法*/
{{ let a = 12 }}
{{ if(true) {return "ok" } }}
```

### 指令

指令是vue的特性之一，写法就像html的元素标签中，带’v-‘前缀的属性。

* v-if  逻辑判断，等同javascript中的if. v-if="{{ bool }}"
* v-on: dom事件。类似onclick之类.v-on:click="doSomething"
* v-bind: 绑定值。 `<a v-bind:href="/url"> == <a href="/url">`

缩写的指令

> * v-bind: 缩写:,比如`<a v-bind:href="/url"> == <a :href="/url">`
> * v-on: 缩写:,比如`<a v-on:click=""> == <a @click="">`

### 计算属性

计算属性专门用来执行计算任务。并专门为繁重的计算工作的优化增加了缓存功能: 只有当计算条件改变时才重新计算结果，否则直接返回上一次的计算结果。
计算属性的例子如下：

```html
<div id="demo_01">
    <div>{{ title }}</div>
    <div>{{ result }}</div>
</div>
```

```javascript
let data = function(){
        return {"value": 12};
    };
let app = new Vue({
        el: "#demo_01",
        data: data,
        computed: {
            result: function(){
                return this.value * 2 ;
            }
        }
    });
```

上面例子中的computed的值就是计算属性。

### 侦听属性

和计算属性不同，侦听属性用于在计算开销较大或者执行异步操作时(换句话说，就是在数据改变后会有一个长耗时的操作时)。

<div id="test">ceshi</div>